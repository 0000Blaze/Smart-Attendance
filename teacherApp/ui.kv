#:set cardColor [0.796875, 0.8984375, 0.99609375, 1]
#:set textColor [0,0,0,1]
#:set backgroundColor [0.59765625, 0.8046875, 0.99609375, 1]

ScreenManager:
    LoginWindow:
        id:login_control
    AttendanceWindow:
        id:attendance_control

<LoginWindow>
    name: 'login_control'
    
    MDBoxLayout:
        color_mode : "custom"
        md_bg_color : backgroundColor
    
    MDBoxLayout:
        size_hint:(0.15, 0.15)
        pos_hint:{'center_x': .5, 'center_y': .9}
    
        Image:
            source: "./assets/icon.png"
        
    MDBoxLayout:
        id: first_box
        columns : 5
        spacing: "30dp"
        pos_hint: {'center_x': .5, 'center_y': .5}
        orientation: 'vertical'
        adaptive_height : True
        color_mode: "custom"
        md_bg_color : cardColor
        size_hint : 0.5 , 0.65
        radius : [40,40,40,40]

        MDBoxLayout:
            id: teacherId_box
            pos_hint: {'center_x': .5, 'center_y': .5}
            orientation: 'vertical'
            adaptive_height : True
            size_hint: 0.5,1.0

            MDTextField:
                id: teacherId
                name:"teacherId"
                pos_hint: {'center_x': .5, 'center_y': .2}
                hint_text: "Teacher Id"
                #mode: "rectangle"
                color_mode : "custom"
                line_color_normal: textColor
                line_color_focus : textColor
                hint_text_color : textColor
            
            MDTextField:
                id: classId
                name:"classId"
                pos_hint: {'center_x': .5, 'center_y': .2}
                hint_text: "Class Id"
                #mode: "rectangle"
                color_mode : "custom"
                line_color_normal: textColor
                line_color_focus : textColor
                hint_text_color : textColor

        MDRaisedButton:
            text:"Connect"
            pos_hint: {'center_x': .5, 'center_y': .5}
            on_press:
                #root.connect_callback(app,teacherId,classId)
                root.stdTid.setTeacherId(app,teacherId)
                root.stdTid.setClassId(app,classId)
                root.getSubjectListAndClassList()
                root.stdTid.setSubjectCode()
        
        MDBoxLayout:
            id: subjectLabel_box
            pos_hint: {'center_x': .5, 'center_y': .5}
            orientation: 'vertical'
            adaptive_height : True
            size_hint: 0.65,0.5

            MDLabel:
                id: subjectName
                pos_hint: {'center_x': .5, 'center_y': .5} 
                text: root.stdTid.field_subject

        MDRaisedButton:
            text:"Start"
            pos_hint: {'center_x': .5, 'center_y': .5}
            #md_bg_color: 1, 0, 1, 1
            on_press:
                root.startAttendanceSheet()
                app.root.ids.attendance_control.attendanceInstance.setAttendanceId()
                root.manager.current = 'attendance_control'
                root.manager.transition.direction = 'left'
        
        MDLabel:
            text:""
            size_hint : 0.05,0.05

<AttendanceWindow>
    name :'attendance_control'

    MDBoxLayout:
        color_mode : "custom"
        md_bg_color : backgroundColor
    
    
    MDBoxLayout:
        id : "attendance_box"
        orientation: 'vertical'
        columns: 3
        spacing: "40dp"
        pos_hint: {"center_x": .5, "center_y": .9}
        adaptive_height : True
        #md_bg_color : app.theme_cls.primary_color

        MDBoxLayout:
            id: "icon_back_container"
            orientation : 'horizontal'
            columns : 2
            spacing: "20dp"
            pos_hint: {"center_x": .5, "center_y": .5}
            size_hint: 0.5,1.0

            MDLabel:
                text: "Attendance will time out in 10 minutes"

            MDRaisedButton:
                text :"Back"
                pos_hint: {"center_x": .5, "center_y": .5}
                on_press:
                    root.manager.current = 'login_control'
                    root.manager.transition.direction = 'right'

        MDBoxLayout:
            id: "label_refresh_container"
            orientation : 'horizontal'
            columns : 2
            spacing: "20dp"
            pos_hint: {"center_x": .5, "center_y": .5}
            size_hint: 0.5,1.0

            MDLabel:
                id: attendance_code
                text: root.attendanceInstance.field_AttendanceId
 
            MDRaisedButton:
                text:"Refresh"
                pos_hint: {"center_x": .5, "center_y": .5}
                on_press:
                    root.attendanceInstance.setAttendanceId()
                    root.updateAttendanceSheet()